{"version":3,"sources":["sikko.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sikko.js","sourcesContent":["$.ajaxSetup({\r\n    headers: { 'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content') }\r\n});\r\n$.fn.rowCount = function() {\r\n    return $('tr', $(this).find('tbody')).length;\r\n};\r\n\r\nvar permission;\r\nvar provinsi = $('select#provinsi');\r\nvar kabkota = $('select#kabkota');\r\nvar kecamatan = $('select#kecamatan');\r\nvar desa = $('select#desa');\r\n\r\n$.extend({\r\n    getValues: function(url) {\r\n        var result = null;\r\n        $.ajax({\r\n            url: url,\r\n            type: 'get',\r\n            dataType: 'json',\r\n            async: false,\r\n            success: function(data) {\r\n                result = data;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n});\r\n\r\nfunction getjson(url){\r\n    var result = null;\r\n    $.ajax({\r\n        url: url,\r\n        type: 'get',\r\n        dataType: 'json',\r\n        async: false,\r\n        success: function(data) {\r\n            result = data;\r\n        }\r\n    });\r\n     return result;\r\n} \r\nfunction numeralsOnly(evt) {\r\n    evt = (evt) ? evt : event;\r\n    var charCode = (evt.charCode) ? evt.charCode : ((evt.keyCode) ? evt.keyCode :\r\n    ((evt.which) ? evt.which : 0));\r\n        if (charCode > 31 && (charCode < 48 || charCode > 57) && (charCode != 46)) {\r\n            alert(\"Hanya Nomor yang bisa di input pada kolom ini.\");\r\n            console.log(evt);\r\n            return false;\r\n        }\r\n    return true;\r\n}\r\nfunction lettersOnly(evt) {\r\n    evt = (evt) ? evt : event;\r\n    var charCode = (evt.charCode) ? evt.charCode : ((evt.keyCode) ? evt.keyCode :\r\n        ((evt.which) ? evt.which : 0));\r\n    if (charCode > 31 && (charCode < 65 || charCode > 90) && (charCode < 97 || charCode > 122)) {\r\n        alert(\"hanya huruf saja.\");\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction ynOnly(evt) {\r\n    evt = (evt) ? evt : event;\r\n    var charCode = (evt.charCode) ? evt.charCode : ((evt.keyCode) ? evt.keyCode : ((evt.which) ? evt.which : 0));\r\n    if (charCode > 31 && charCode != 78 && charCode != 89 && charCode != 110 && charCode != 121) {\r\n    alert(\"Masukan hanya \\\"Y\\\" atau \\\"N\\\".\");\r\n\r\n    return false;\r\n    }\r\n    return true;\r\n}\r\nfunction rangeNumber(evt) {\r\n\r\n    evt = (evt) ? evt : event;\r\n    var charCode = (evt.charCode) ? evt.charCode : ((evt.keyCode) ? evt.keyCode :\r\n    ((evt.which) ? evt.which : 0));\r\n        if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n            alert(\"Hanya Nomor yang bisa di input pada kolom ini.\");\r\n                $(this).val(0);\r\n            return false;\r\n        }\r\n        var max = 100;\r\n        var min = 0;\r\n        if ($(this).val() > max){\r\n             $(this).val(max);\r\n        }else if($(this).val() < min){\r\n             $(this).val(min);\r\n        }\r\n    return true;\r\n}\r\nfunction hasRole(name){\r\n    permission = getjson('/api/checkpermission');\r\n    var ret = null;\r\n    for(i in permission){\r\n        console.log(permission[i]);\r\n        if (permission[i] == name) {\r\n                return true;\r\n        }\r\n    }        \r\n}\r\nfunction base64image(resFile) {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(resFile);\r\n    reader.onloadend = function(evt) {\r\n      return (evt.target.result);\r\n    }\r\n}\r\nfunction loaddatawilayah(url,data=''){\r\n    console.log('Load adata')\r\n    return $.ajax({\r\n        url: url,\r\n        dataType: \"json\",\r\n        beforeSend: function() {\r\n            $('.loader').show();\r\n            $(\"#loader-wrapper\").show();\r\n        },\r\n    });\r\n    \r\n}\r\nfunction loadProvinsi(){\r\n    loaddatawilayah('/api/getprovinsi').then(function(data){\r\n        var options = '<option value=\"0\">Pilih Provinsi..</option>';\r\n        for (var x = 0; x < data.length; x++) {\r\n            var selected = (data[x]['kode_prov'] == $('#kode_prov').val()) ? \"selected\":\"\";\r\n            options += '<option value=\"' + data[x]['kode_prov'] + '\"'+ selected +'>' + data[x]['nama_provinsi'] + '</option>';\r\n        }\r\n        provinsi.html(options);\r\n        $(\"#loader-wrapper\").hide();\r\n    });\r\n}\r\nfunction loadKabupaten(id){\r\n    kabkota.html(\"<option value=''>Pilih Kota..</option>\");\r\n    loaddatawilayah('/api/getkabupaten/'+id).then(function(data){\r\n        var options = '<option value=\"0\">Pilih Kota..</option>';\r\n        for (var x = 0; x < data.length; x++) {\r\n            var selected = (data[x]['kode_kab'] == $('#kode_kab').val()) ? \"selected\":\"\";\r\n            options += '<option value=\"' + data[x]['kode_kab'] + '\"'+ selected +'>' + data[x]['nama_kabupaten'] + '</option>';    \r\n        }\r\n        kabkota.select2();\r\n        kabkota.html(options);\r\n        $(\"#loader-wrapper\").hide();\r\n    });\r\n}\r\nfunction loadKecamatan(id){\r\n    kecamatan.html(\"<option value=''>Pilih Kecamatan..</option>\");\r\n    loaddatawilayah('/api/getkecamatan/'+id).then(function(data){\r\n        var options = '<option value=\"0\">Pilih Kecamatan..</option>';\r\n        for (var x = 0; x < data.length; x++) {\r\n            var selected = (data[x]['kode_kec'] == $('#kode_kec').val()) ? \"selected\":\"\";\r\n            options += '<option value=\"' + data[x]['kode_kec'] + '\" '+ selected +'>' + data[x]['nama_kecamatan'] + '</option>';    \r\n        }\r\n        kecamatan.select2();\r\n        kecamatan.html(options);\r\n        $(\"#loader-wrapper\").hide();\r\n    });\r\n}\r\nfunction loadDesa(id){\r\n    desa.html(\"<option value=''>Pilih Desa/Kelurahan..</option>\");\r\n    loaddatawilayah('/api/getdesa/'+id).then(function(data){\r\n        var options = '<option value=\"0\">Pilih Desa..</option>';\r\n        for (var x = 0; x < data.length; x++) {\r\n            var selected = (data[x]['kode_kel'] == $('#kode_kel').val()) ? \"selected\":\"\";\r\n            options += '<option value=\"' + data[x]['kode_kel'] + '\" '+ selected +'>' + data[x]['nama_kelurahan'] + '</option>';    \r\n        }\r\n        desa.select2();\r\n        desa.html(options);\r\n        $(\"#loader-wrapper\").hide();\r\n    });\r\n}\r\n(function($, window, document){\r\n    $(\"#loader-wrapper\").hide();\r\n}(jQuery, window, document));\r\n\r\n(function($, window, document){\r\n    $('.formConfirm').on('click', function(e) {\r\n        e.preventDefault();\r\n        if($(this).hasClass('disabled')) return;\r\n        var el = $(this).parent();\r\n        var title = el.attr('data-title');\r\n        var msg = el.attr('data-message');\r\n        var dataForm = el.attr('data-form');\r\n        \r\n        $('#formConfirm')\r\n        .find('#frm_body').html('<h6>'+msg+'</h6>')\r\n        .end().find('#frm_title').html(title)\r\n        .end().modal('show');\r\n        \r\n        $('#formConfirm').find('#frm_submit').attr('data-form', dataForm);\r\n    });\r\n\r\n    $('#formConfirm').on('click', '#frm_submit', function(e) {\r\n        var id = $(this).attr('data-form');\r\n        //console.log(id);\r\n        $(id).submit();\r\n    });\r\n\r\n    \r\n}(jQuery, window, document));\r\n//Jam Online\r\n(function($, window, document){\r\n    if( $( '.rt-clock' ).length > 0 ){\r\n        var monthNames = [ 'Januari', 'Pebruari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'Nopember', 'Desember' ];\r\n        var dayNames= [ 'Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum\\'at', 'Sabtu' ];\r\n\r\n        var newDate = new Date();\r\n\r\n        newDate.setDate(newDate.getDate());\r\n\r\n        var date = dayNames[ newDate.getDay() ] + ', ' + newDate.getDate() + ' ' + monthNames[ newDate.getMonth() ] + ' ' + newDate.getFullYear();\r\n\r\n        $( '.rt-clock .date' ).html( date );\r\n\r\n        setInterval(\r\n            function() {\r\n                var seconds = new Date().getSeconds();\r\n                $(\".rt-clock .seconds\").html(( seconds < 10 ? \"0\" : \"\" ) + seconds);\r\n            },1000 );\r\n\r\n        setInterval(\r\n            function() {\r\n                var minutes = new Date().getMinutes();\r\n                $(\".rt-clock .minutes\").html(( minutes < 10 ? \"0\" : \"\" ) + minutes);\r\n            },1000);\r\n\r\n        setInterval(\r\n            function() {\r\n                var hours = new Date().getHours();\r\n                $(\".rt-clock .hours\").html(( hours < 10 ? \"0\" : \"\" ) + hours);\r\n            }, 1000);\r\n    }\r\n}(jQuery, window, document));\r\n//Upload\r\n(function($, window, document){\r\n    var hasChanged = false;\r\n    $(window).bind('beforeunload', function(){\r\n      if(hasChanged){\r\n        return \"You have unsaved changes\";\r\n        hasChanged = false;\r\n      } \r\n    });\r\n    $('input[type=text]').change(function(){\r\n        hasChanged = true;\r\n    });\r\n   \r\n    $('.formUpload').on('click', function(e) {\r\n        var file_input = $(this).closest('span').find('.file');\r\n        if (file_input.length > 0) {\r\n            file_input.trigger('click');\r\n        }\r\n    });\r\n    $('.fileupload:file').change(function(){\r\n        var fileinput = $(this);\r\n        var fileinput_url = fileinput.attr('data-url');\r\n        var fileinput_path = fileinput.attr('data-path');\r\n        var file = this.files[0];\r\n        name = file.name;\r\n        size = file.size;\r\n        type = file.type;\r\n    \r\n        if(file.name.length < 1) {\r\n        }else if(file.size > 209715200) {\r\n            alert(\"File Terlalu Besar, Maksimal 200 Mb\");\r\n        }else if(file.type != 'image/png' && file.type != 'image/jpg' && file.type != 'image/gif' && file.type != 'image/jpeg' && file.type != 'application/pdf' && file.type != 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\r\n            alert(\"File tidak diijinkan untuk di upload\");\r\n            $(this).val('');\r\n        }else { \r\n            var formData = new FormData($('*formId*')[0]);\r\n            formData.append(\"_token\", window.Laravel.csrfToken);\r\n            console.log(window.Laravel.csrfToken);\r\n            if(!!file.type.match(/.*/)){\r\n                \r\n                formData.append(\"images\", file);\r\n                \r\n                \r\n            }  \r\n            \r\n            $.ajax({\r\n                url: fileinput_url/*\"/kuesioner/bangunan/upload\"*/,\r\n                type: \"POST\",\r\n                data: formData,\r\n                cache: false,\r\n                processData: false,\r\n                contentType: false,\r\n                dataType:'json',\r\n                beforeSend: function(){\r\n                    $(\"#loader-wrapper\").show();\r\n                },\r\n                complete: function(){   \r\n                    $(\"#loader-wrapper\").hide();\r\n                },\r\n                success: function(data){\r\n                    if($('.txtfoto').length > 0) {\r\n                        fileinput.closest('div.controlupload').find('.txtfoto')\r\n                            .css({\"color\": \"peru\", \"border\": \"2px solid blue\"}).val(data.filename);\r\n                        fileinput.parent().parent().parent().find('img.imgfoto').attr('src',fileinput_path+data.filename);\r\n                    }\r\n                },\r\n                error: errorHandler = function() {\r\n                    alert(\"Something went wrong!\");\r\n                },\r\n            });\r\n        }\r\n    });\r\n}(jQuery, window, document));\r\n//Table\r\n(function($, window, document){\r\n    $.extend( $.fn.dataTable.defaults, {\r\n        autoWidth: false,\r\n        //pagingType: 'full_numbers',\r\n        dom: '<\"datatable-header\"fl><\"datatable-scroll\"t><\"datatable-footer\"ip>',\r\n        language: {\r\n            \"decimal\":        \"\",\r\n            \"emptyTable\":     \"Tidak ada data\",\r\n            \"info\":           \"Menampilkan _START_ sampai _END_ dari _TOTAL_ data\",\r\n            \"infoEmpty\":      \"Menampilkan 0 sampai 0 dari 0 data\",\r\n            \"infoFiltered\":   \"(dari _MAX_ total data)\",\r\n            \"infoPostFix\":    \"\",\r\n            \"thousands\":      \",\",\r\n            \"lengthMenu\":     \"Data _MENU_ \",\r\n            \"loadingRecords\": \"Tunggu Sebentar...\",\r\n            \"processing\":     \"Proses...\",\r\n            \"search\":         \"Cari:\",\r\n            \"zeroRecords\":    \"Tidak ada data yang dicari..\",\r\n            \"paginate\": {\r\n                \"first\":      \"<<\",\r\n                \"last\":       \">>\",\r\n                \"next\":       \"\",\r\n                \"previous\":   \"\"\r\n            },\r\n            \"aria\": {\r\n                \"sortAscending\":  \": activate to sort column ascending\",\r\n                \"sortDescending\": \": activate to sort column descending\"\r\n            }\r\n        \r\n        }\r\n    });\r\n    var table_dom = $('#table_dom').DataTable();\r\n    var table_user = $('#table_user').DataTable();\r\n    var table_role = $('#table_role').DataTable({});\r\n    var table_agenda = $('#table_agenda').DataTable({\r\n        processing: true,\r\n        serverSide: true,\r\n        ajax: '/backend/agenda/getdata',\r\n        columns: [\r\n            {\r\n                //\"className\":      'details-control',\r\n                \"orderable\":      false,\r\n                \"searchable\":      false,\r\n                \"data\":           null,\r\n                \"defaultContent\":   \r\n                    '<div class=\"input-group margin\">' +\r\n                        '<div class=\"input-group-btn\">' +\r\n                            '<button type=\"button\" class=\"btn btn-default btn-xs dropdown-toggle\" data-toggle=\"dropdown\">' +\r\n                            '<span class=\"fa fa-caret-down ico-caret-down\"></span></button>' +\r\n                            '<ul class=\"dropdown-menu\">' +\r\n                                '<li><a class=\"edit\">Edit</a></li>' +\r\n                                '<li data-title=\"Hapus Agenda\" data-message=\"Hapus Agenda ??\"><a class=\"hapus\">Hapus</a></li>' +\r\n                            '</ul>' +\r\n                        '</div>' +\r\n                    '</div>' \r\n                ,\r\n            },\r\n            {data: 'judul_agenda', name: 'judul_agenda'},\r\n            {data: 'tempat', name: 'tempat'},\r\n            {data: 'waktu', name: 'waktu'},\r\n            \r\n        ],\r\n    });\r\n    $('#table_agenda tbody').on('click', 'a',function(e) {\r\n        var data =  table_agenda.row($(this).parents('tr')).data();\r\n        var id = data.id;\r\n        \r\n        if ($(this).hasClass('edit')) {\r\n            document.location ='/backend/agenda/'+id+'/ubah';\r\n        }else if ($(this).hasClass('lihat')) {\r\n            document.location ='/backend/agenda/'+id+'/lihat';\r\n        }else if($(this).hasClass('hapus')){\r\n            e.preventDefault();\r\n            var el = $(this).parent();\r\n            var title = el.attr('data-title');\r\n            var msg = el.attr('data-message');\r\n            var dataForm = el.attr('data-form');\r\n            \r\n            var newForm = jQuery('<form>', {\r\n                'action': '/backend/agenda/'+id+'/hapus',\r\n                'target': '_top',\r\n                'method' : 'post',\r\n            }).append(jQuery('<input>', {\r\n                'name': '_method',\r\n                'value': 'DELETE',\r\n                'type': 'hidden'\r\n            })).append($('<input />',{\r\n                'name': '_token',\r\n                'value': $('meta[name=\"_token\"]').attr('content'),\r\n                'type': 'hidden'\r\n            }));\r\n\r\n            $('#formConfirm')\r\n            .find('#frm_body').html('<h6>'+msg+'</h6>').append(newForm)\r\n            .end().find('#frm_title').html(title)\r\n            .end().modal('show');\r\n            \r\n            $('#formConfirm').find('#frm_submit').attr('data-form', dataForm);\r\n\r\n            $('#formConfirm').on('click', '#frm_submit', function(e) {\r\n                //var id = $(this).attr('data-form');\r\n                //console.log(newForm);\r\n                newForm.submit();\r\n                //$(id).submit();\r\n            });\r\n        }else if($(this).hasClass('editmap')){\r\n            e.preventDefault();\r\n            var el = $(this).parent();\r\n            var title = el.attr('data-title');\r\n            var msg = el.attr('data-message');\r\n            var dataForm = el.attr('data-form');\r\n           \r\n            var newForm = jQuery('<form>', {\r\n                'action': '/kuesioner/bangunan/'+id+'/peta',\r\n                'target': '_top',\r\n                'method' : 'post',\r\n            }).append(jQuery('<input>', {\r\n                'name': '_method',\r\n                'value': 'GET',\r\n                'type': 'hidden'\r\n            })).append($('<input />',{\r\n                'name': '_token',\r\n                'value': $('meta[name=\"_token\"]').attr('content'),\r\n                'type': 'hidden'\r\n            }));\r\n\r\n            $('#formConfirm')\r\n            .find('#frm_body').html('<h6>'+msg+'</h6>').append(newForm)\r\n            .end().find('#frm_title').html(title)\r\n            .end().modal('show');\r\n            $('#formConfirm').find('#frm_submit').attr('data-form', dataForm);\r\n            $('#formConfirm').on('click', '#frm_submit', function(e) {\r\n                newForm.submit();\r\n            });\r\n        }\r\n        table_agenda.draw();\r\n    });\r\n    \r\n}(jQuery, window, document));\r\n//Form\r\n(function($, window, document){\r\n    $('.datepicker').datepicker({\r\n        autoclose: true,\r\n        format:'yyyy-mm-dd',\r\n        startDate:'-3d'\r\n    });\r\n    if($('.start_at').length > 0){\r\n        $('.start_at').datetimepicker({\r\n            //defaultDate: new Date(),\r\n            \r\n            dateFormat: \"yy-mm-dd\",\r\n            timeFormat: \"HH:mm\",\r\n            \r\n        });\r\n    }\r\n\r\n    if($('.end_at').length > 0){\r\n        $('.end_at').datetimepicker({\r\n            //defaultDate: new Date(),\r\n            dateFormat: \"yy-mm-dd\",\r\n            timeFormat: \"HH:mm\",\r\n        });\r\n    }\r\n    \r\n    \r\n    $('input.numberonly').bind('keypress', function(e) {\r\n        return numeralsOnly(e);\r\n    });\r\n    $('input.letteronly').bind('keypress', function(e) {\r\n        return lettersOnly(e);\r\n    });\r\n    var checkall = 'th.check-all';\r\n    $(checkall).on('change', function() {\r\n        var $this = $(this),\r\n            index= $this.index() + 1,\r\n            checkbox = $this.find('input[type=\"checkbox\"]'),\r\n            table = $this.parents('table');\r\n        // Make sure to affect only the correct checkbox column\r\n        table.find('tbody > tr > td:nth-child('+index+') input[type=\"checkbox\"]')\r\n          .prop('checked', checkbox[0].checked);\r\n    });\r\n    \r\n    loadProvinsi();\r\n    \r\n    if($('#kode_prov').val() !=null){\r\n        loadKabupaten($('#kode_prov').val());\r\n    }\r\n    provinsi.on('change', function (){\r\n        loadKabupaten($(this).val());\r\n    });\r\n    if($('#kode_kab').val() !=null){\r\n        loadKecamatan($('#kode_kab').val());\r\n    }\r\n    kabkota.on('change', function (){\r\n        loadKecamatan($(this).val());\r\n    });\r\n    if($('#kode_kec').val() !=null){\r\n        loadDesa($('#kode_kec').val());\r\n    }\r\n    kecamatan.on('change', function (){\r\n        loadDesa($(this).val());\r\n    });\r\n    \r\n    $('#checkmap').click(function(){\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(function(position) {\r\n            var pos = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude\r\n            };\r\n            $('input[name=latitude]').val(position.coords.latitude);\r\n            $('input[name=longitude]').val(position.coords.longitude);\r\n          }, function() {\r\n            \r\n          });\r\n        } else {\r\n          // Browser doesn't support Geolocation\r\n          alert('Browser anda tidak mendukung Geolocation');\r\n         \r\n        }        \r\n    });\r\n\r\n    if ($(\".tinymce_sikko\").length > 0) {\r\n        tinymce.init({\r\n            selector: \".tinymce_sikko\",\r\n            theme: \"modern\",\r\n            //skin: \"light\",\r\n            //width: 600,\r\n            //height: 200,    \r\n            /*plugins: [\r\n                \"advlist autolink link image lists charmap print preview hr anchor pagebreak\",\r\n                \"searchreplace wordcount visualblocks visualchars insertdatetime media nonbreaking spellchecker\",\r\n                \"table contextmenu directionality emoticons paste textcolor responsivefilemanager code \"\r\n            ],*/\r\n            plugins: [\r\n                \"advlist autolink link image lists charmap print preview hr anchor pagebreak\",\r\n                \"searchreplace wordcount media nonbreaking spellchecker\",\r\n                \"table contextmenu directionality emoticons paste textcolor responsivefilemanager code \"\r\n            ],\r\n            relative_urls: false,\r\n            browser_spellcheck : true ,\r\n            filemanager_title:\"Responsive Filemanager\",\r\n            external_filemanager_path:\"http://\"+window.location.hostname+\":\"+window.location.port+\"/filemanager/\",\r\n            external_plugins: { \"filemanager\" : \"../../../filemanager/plugin.min.js\"},\r\n            codemirror: {\r\n                indentOnInit: true, // Whether or not to indent code on init. \r\n                path: 'CodeMirror'\r\n            },  \r\n            image_advtab: true,\r\n            toolbar1: \"undo redo | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | styleselect\",\r\n            toolbar2: \"| responsivefilemanager | image | media | link unlink anchor | print preview code  | youtube | qrcode | flickr | picasa | easyColorPicker\"\r\n        });    \r\n    }\r\n    if ($(\".tinymce_post\").length > 0) {\r\n        tinymce.init({\r\n            selector: \".tinymce_post\",\r\n            theme: \"modern\",\r\n            //skin: \"light\",\r\n            //width: 600,\r\n            menubar:false,\r\n            statusbar: false,\r\n            height: 300,    \r\n            /*plugins: [\r\n                \"advlist autolink link image lists charmap print preview hr anchor pagebreak\",\r\n                \"searchreplace wordcount visualblocks visualchars insertdatetime media nonbreaking spellchecker\",\r\n                \"table contextmenu directionality emoticons paste textcolor responsivefilemanager code \"\r\n            ],*/\r\n            plugins: [\r\n                \"advlist autolink link image lists charmap print preview hr anchor pagebreak\",\r\n                \"searchreplace wordcount media nonbreaking spellchecker\",\r\n                \"table contextmenu directionality emoticons paste textcolor responsivefilemanager code \"\r\n            ],\r\n            relative_urls: false,\r\n            browser_spellcheck : true ,\r\n            filemanager_title:\"Responsive Filemanager\",\r\n            external_filemanager_path:\"http://\"+window.location.hostname+\":\"+window.location.port+\"/filemanager/\",\r\n            external_plugins: { \"filemanager\" : \"../../../filemanager/plugin.min.js\"},\r\n            codemirror: {\r\n                indentOnInit: true, // Whether or not to indent code on init. \r\n                path: 'CodeMirror'\r\n            },  \r\n            image_advtab: true,\r\n            toolbar: \"undo redo | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | styleselect | image code\",\r\n            //toolbar2: \"| responsivefilemanager | image | media | link unlink anchor | print preview code  | youtube | qrcode | flickr | picasa | easyColorPicker\"\r\n        });    \r\n    }\r\n    if ($(\".tinymce_200\").length > 0) {\r\n        tinymce.init({\r\n            selector: \".tinymce_200\",\r\n            theme: \"modern\",\r\n            //skin: \"light\",\r\n            //width: 600,\r\n            menubar:false,\r\n            statusbar: true,\r\n            height: 200,    \r\n            /*plugins: [\r\n                \"advlist autolink link image lists charmap print preview hr anchor pagebreak\",\r\n                \"searchreplace wordcount visualblocks visualchars insertdatetime media nonbreaking spellchecker\",\r\n                \"table contextmenu directionality emoticons paste textcolor responsivefilemanager code \"\r\n            ],*/\r\n            plugins: [\r\n                \"advlist autolink link image lists charmap print preview hr anchor pagebreak\",\r\n                \"searchreplace wordcount media nonbreaking spellchecker\",\r\n                \"table contextmenu directionality emoticons paste textcolor responsivefilemanager code\"\r\n            ],\r\n            relative_urls: false,\r\n            browser_spellcheck : true ,\r\n            filemanager_title:\"Responsive Filemanager\",\r\n            external_filemanager_path:\"http://\"+window.location.hostname+\":\"+window.location.port+\"/filemanager/\",\r\n            external_plugins: { \"filemanager\" : \"../../../filemanager/plugin.min.js\"},\r\n            codemirror: {\r\n                indentOnInit: true, // Whether or not to indent code on init. \r\n                path: 'CodeMirror'\r\n            },  \r\n            image_advtab: true,\r\n            toolbar: \"undo redo | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | styleselect | image code\",\r\n            //toolbar: \"| responsivefilemanager | image | media | link unlink anchor | print preview code  | youtube | qrcode | flickr | picasa | easyColorPicker\"\r\n            forced_root_block : \"\", \r\n            force_br_newlines : true,\r\n            force_p_newlines : false,\r\n        });    \r\n    }\r\n\r\n    \r\n}(jQuery, window, document));\r\n\r\n"]}